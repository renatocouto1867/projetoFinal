<!DOCTYPE html>

<html th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">

<head th:replace="~{fragments/head :: head(~{})}"></head>

<body>

<main>

    <div class="container mt-sm-1">
        <div class="alert alert-warning mt-sm-1" role="alert">
            <h2 class="text-center fs-3">Lista de Médicos</h2>
        </div>

        <div class="mt-1" th:if="${erro!=null}">
            <p class="alert alert-danger" th:text="${erro}"></p>
        </div>

        <table class="table table-striped table-sm">
            <thead class="table-dark">
            <tr>
                <th>Codigo</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>CRM</th>
                <th>Ações</th>

            </tr>
            </thead>
            <tr th:each="m : ${medico}">
                <td th:text="${m.idPessoa}"></td>
                <td th:text="${m.nome}"></td>
                <td th:text="${m.cpf}"></td>
                <td th:text="${m.crm}"></td>
                <td class="col-3">
                    <a class="btn btn-primary btn-sm" th:href="@{/medico/medico/{id}(id=${m.idPessoa})}">
                        <img
                                alt="Detalhar" data-bs-placement="top" data-bs-toggle="tooltip"
                                src="/svg/display_settings.svg" title="Detalhar ">
                    </a>
                    <a class="btn btn-success btn-sm" th:href="@{/medico/consultas/{id}(id=${m.idPessoa})}"><img
                            alt="Consultas" data-bs-placement="top" data-bs-toggle="tooltip"
                            src="/svg/clinical_notes.svg" title="Consultas"></a>
                    <a class="btn btn-warning btn-sm" th:href="@{/medico/edit/{id}(id=${m.idPessoa})}"><img
                            alt="Editar" data-bs-placement="top" data-bs-toggle="tooltip" src="/svg/edit.svg"
                            title="Editar"></a>
                    <a class="btn btn-danger btn-sm"
                       onclick="return window.confirm('Tem certeza que deseja excluir este registro?')"
                       th:href="@{/medico/remove/{id}(id=${m.idPessoa})}"><img
                            alt="excluir" data-bs-placement="top" data-bs-toggle="tooltip" src="/svg/delete.svg"
                            title="Excluir"></a></td>

            </tr>
        </table>
    </div>

</main>

</body>
</html>
