<!DOCTYPE html>

<html th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">

<head th:replace="~{fragments/head :: head(~{})}"></head>

<body>

<main>

    <div class="container mt-3">

        <div class="alert alert-warning mt-2" role="alert">
            <h1 class="text-center">Lista de Pacientes</h1>
        </div>

        <div class="mt-1" th:if="${erro!=null}">
            <p class="alert alert-danger" th:text="${erro}"></p>
        </div>

        <table border="1" class="table table-striped table-sm">
            <thead class="table-dark">
            <tr>
                <th>Codigo</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>Telefone</th>
                <th>Ações</th>

            </tr>
            </thead>
            <tr th:each="p, paciente  : ${paciente}">
                <td th:text="${p.idPessoa}"></td>
                <td th:text="${p.nome}"></td>
                <td th:text="${p.cpf}"></td>
                <td th:text="${p.telefone}"></td>
                <td class="col-4">
                    <a class="btn btn-primary btn-sm" th:href="@{/consulta/form/{id}(id=${p.idPessoa})}"><img
                            alt="Nova Consulta" data-bs-placement="top" data-bs-toggle="tooltip" src="/svg/note_add.svg"
                            title="Nova Consulta"></a>

                    <a CLASS="btn btn-success btn-sm" th:href="@{/consulta/listporpaciente/{id}(id=${p.idPessoa})}"><img
                            alt="Listar Consultas" data-bs-placement="top" data-bs-toggle="tooltip"
                            src="/svg/clinical_notes.svg" title="Consultas"></a>

                    <a class="btn btn-primary btn-sm" th:href="@{/paciente/paciente/{id}(id=${p.idPessoa})}">
                        <img
                                alt="Detalhar" data-bs-placement="top" data-bs-toggle="tooltip"
                                src="/svg/display_settings.svg" title="Detalhar ">
                    </a>

                    <a class="btn btn-warning btn-sm" th:href="@{/paciente/edit/{id}(id=${p.idPessoa})}"><img
                            alt="Editar" data-bs-placement="top" data-bs-toggle="tooltip" src="/svg/edit.svg"
                            title="Editar"></a>
                    <a class="btn btn-danger btn-sm"
                       onclick="return window.confirm('Tem certeza que deseja excluir este registro?')"
                       th:href="@{/paciente/remove/{id}(id=${p.idPessoa})}"><img
                            alt="excluir" data-bs-placement="top" data-bs-toggle="tooltip" src="/svg/delete.svg"
                            title="Excluir"></a></td>
            </tr>
        </table>
    </div>

</main>

</body>
</html>

